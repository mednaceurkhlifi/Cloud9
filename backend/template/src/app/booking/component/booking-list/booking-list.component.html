<div class="container mx-auto px-4 py-8">
  <div class="flex justify-between items-center mb-6">
    <h1 class="text-2xl font-bold text-gray-800">Bookings</h1>
    <a routerLink="/bookings/new" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md">
      New Booking
    </a>
  </div>

  <div class="table-container">
    <div *ngIf="loading" class="loading-container">
      <mat-spinner></mat-spinner>
    </div>

    <div *ngIf="error" class="error-message">
      {{ error }}
    </div>

    <table mat-table [dataSource]="bookings" *ngIf="!loading && !error" class="mat-table">
      <!-- Reference Column -->
      <ng-container matColumnDef="reference">
        <th mat-header-cell *matHeaderCellDef>Reference</th>
        <td mat-cell *matCellDef="let booking">{{ booking.reference }}</td>
      </ng-container>

      <!-- User Name Column -->
      <ng-container matColumnDef="userName">
        <th mat-header-cell *matHeaderCellDef>User</th>
        <td mat-cell *matCellDef="let booking">{{ booking.userName }}</td>
      </ng-container>

      <!-- Service Name Column -->
      <ng-container matColumnDef="serviceName">
        <th mat-header-cell *matHeaderCellDef>Service</th>
        <td mat-cell *matCellDef="let booking">{{ booking.serviceName }}</td>
      </ng-container>

      <!-- Status Column -->
      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef>Status</th>
        <td mat-cell *matCellDef="let booking">
          <span class="status-badge" [ngClass]="booking.status.toLowerCase()">
            {{ booking.status }}
          </span>
        </td>
      </ng-container>

      <!-- Created At Column -->
      <ng-container matColumnDef="createdAt">
        <th mat-header-cell *matHeaderCellDef>Created At</th>
        <td mat-cell *matCellDef="let booking">{{ booking.createdAt | date:'medium' }}</td>
      </ng-container>

      <!-- Actions Column -->
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef>Actions</th>
        <td mat-cell *matCellDef="let booking">
          <div class="action-buttons">
            <button mat-button color="primary" [routerLink]="['/bookings', booking.id]">
              Edit
            </button>
            <button mat-button color="warn" (click)="deleteBooking(booking.id)">
              Delete
            </button>
          </div>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>
</div> 